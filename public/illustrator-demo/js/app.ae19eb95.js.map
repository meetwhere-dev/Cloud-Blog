{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/App.vue?f203","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","index","class","activeTool","on","$event","changeTool","_v","_s","deleteItem","isSmoothBezierCurve","currentItem","id","attrs","_m","mouse","coord","x","toFixed","y","staticRenderFns","tools","canvas","zoom","isMovePan","mouseCircle","isClick","isDragging","allItems","isChange","target","path","left","top","detect","minDistance","pointer","watch","handler","oldVal","stroke","newVal","immediate","methods","initialize","console","log","document","width","canvasWidth","height","canvasHeight","backgroundColor","selection","fabric","remove","add","mouseMove","mouseOut","mouseDown","mouseUp","upperCanvas","addEventListener","e","preventDefault","ondrop","event","file","dataTransfer","files","reader","FileReader","readAsText","onload","res","forEach","strokeWidth","hoverCursor","objectCaching","type","fill","Date","newPath","addSelf","resPath","removeSelf","altKey","delta","bezierControlCircle","pathIndex","pathXY","pathX","pathY","moved","updatePath","moving","priviewBezierChange","bezierControlLine","selectable","hasBorders","hasControls","line","sendToBack","controlCircle","cutNewLine","pop","newLine","createPath","pathArray","padding","getLineLength","pathPointTemp","mousedblclick","objDbclick","objMoved","mousedown","objMouseDown","objMoving","createBezierCurveControl","el","controllers","circle1","controlLine","line1","circle3","line3","line2","circle2","othersContral","controlElement","createLineControl","createCircle","radius","circle","priviewChange","createControlCircle","c0","c1","createTemp","temp","detectBezierCurve","pointTemp","len","detectTool","detectBezierCurvePoint","c3","dis","detectTool2","pointerToLine","x1","x2","Math","abs","y1","y2","k","isPointInRect","filter","distance","sqrt","pow","p1","p2","absolutePointer","mouseCircleMove","priviewLine","priviewBezierCurve","perPixelTargetFind","originX","originY","set","parseInt","center","deltaX","deltaY","setCoords","el2","el3","creatTemp","relativeToAbsolute","test","lastX","lastY","toUpperCase","mounted","component","Vue","render","h","App","$mount"],"mappings":"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","file":"js/app.ae19eb95.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\"},[_c('div',{staticClass:\"nav\"},[_c('div',{staticClass:\"left\"},[_vm._l((_vm.tools),function(item,index){return _c('div',{key:index,staticClass:\"button\",class:_vm.activeTool === item ? 'active': '',on:{\"click\":function($event){return _vm.changeTool(item)}}},[_vm._v(_vm._s(item))])}),_c('div',{staticClass:\"button\",on:{\"click\":function($event){return _vm.deleteItem()}}},[_vm._v(\"Delete\")]),_c('div',{staticClass:\"button\",on:{\"click\":function($event){_vm.isSmoothBezierCurve = !_vm.isSmoothBezierCurve}}},[_vm._v(\"SwitchSmoothBezierCurve : \"+_vm._s(_vm.isSmoothBezierCurve))])],2),_c('div',{staticClass:\"right\"},[_c('div',[_vm._v(\"Id：\"+_vm._s(_vm.currentItem.id))]),_c('div',[_vm._v(\"Length：\"+_vm._s(_vm.currentItem.length))]),_c('a',{attrs:{\"href\":\"https://gitee.com/meetwhere/illustrator-demo\"}},[_vm._v(\"GitHub\")])])]),_vm._m(0),_c('div',{staticClass:\"mouse_coord\",attrs:{\"id\":\"mouse_coord\"}},[_vm._v(\"Mouse Position X:\"+_vm._s(_vm.mouse.coord.x.toFixed(2))+\" | Y:\"+_vm._s(_vm.mouse.coord.y.toFixed(2)))])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mycanvas\"},[_c('canvas',{attrs:{\"id\":\"c\",\"tabindex\":\"0\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app\">\n    <div class=\"nav\">\n     <!-- 工具栏按钮  -->\n      <div class=\"left\">\n        <div\n        :key=\"index\"\n        v-for=\"(item, index) of tools\"\n        class=\"button\"\n        :class=\"activeTool === item ? 'active': ''\"\n        @click=\"changeTool(item)\"\n        >{{item}}</div>\n        <div class=\"button\" @click=\" deleteItem() \">Delete</div>\n        <div class=\"button\" @click=\"isSmoothBezierCurve = !isSmoothBezierCurve\">SwitchSmoothBezierCurve : {{isSmoothBezierCurve}}</div>\n      </div>\n      <div class=\"right\">\n        <div>Id：{{currentItem.id  }}</div>\n        <div>Length：{{currentItem.length  }}</div>\n        <a href=\"https://gitee.com/meetwhere/illustrator-demo\">GitHub</a>\n      </div>\n    </div>\n    <!-- 画布 -->\n    <div class=\"mycanvas\">\n      <canvas id=\"c\" tabindex=\"0\" ></canvas>\n    </div>\n    <div class=\"mouse_coord\" id=\"mouse_coord\">Mouse Position X:{{mouse.coord.x.toFixed(2)}}  |  Y:{{mouse.coord.y.toFixed(2)}}</div>\n  </div>\n</template>\n<script>\nimport { fabric } from 'fabric'\n\nexport default {\n  data () {\n    return {\n      // 工具栏\n      tools: ['Hand', 'BezierCurve', 'Line', 'Detect'],\n      // 选中的工具\n      activeTool: 'Hand',\n      // 画布\n      canvas: null,\n      // 视图比例\n      zoom: 1,\n      // 是否正在调整视图\n      isMovePan: false,\n      isSmoothBezierCurve: false,\n      // 鼠标及其状态相关\n      mouse: {\n        mouseCircle: null,\n        isClick: false,\n        isDragging: false,\n        coord: { x: 0, y: 0 }\n      },\n      // 所有的元素\n      allItems: [],\n      // 被选中的元素\n      currentItem: {\n        isChange: false,\n        id: '',\n        target: null,\n        length: 0,\n        path: null,\n        left: 0,\n        top: 0\n      },\n      // 磁吸工具\n      detect: {\n        minDistance: 10,\n        target: null,\n        pointer: null\n      }\n    }\n  },\n  watch: {\n    'currentItem.target': {\n      handler (newVal, oldVal) {\n        if (oldVal) {\n          oldVal.stroke = 'black'\n        }\n        if (newVal) newVal.stroke = 'blue'\n      },\n      immediate: false\n    }\n  },\n  methods: {\n\n    // 初始化\n    initialize () {\n      // ———————————————————————生成画布 初始化画布设置————————————————————————\n      console.log('document:', document)\n      const canvasWidth = window.innerWidth\n      const canvasHeight = window.innerHeight\n      const canvas = this.canvas = new fabric.Canvas('c', {\n        width: canvasWidth,\n        height: canvasHeight,\n        backgroundColor: '#F0F1F5'\n      })\n\n      canvas.selection = false\n      // 设置元素对象默认值 selectable (可被选择)\n      fabric.Object.prototype.selectable = true\n      // hasControls (元素对象拥有控制框架)\n      fabric.Object.prototype.hasControls = false\n      // hasBorders (元素对象拥有控制框线)\n      fabric.Object.prototype.hasBorders = true\n      fabric.Object.prototype.hoverCursor = 'default'\n      fabric.Object.prototype.originX = 'center'\n      fabric.Object.prototype.originY = 'center'\n      fabric.Object.prototype.removeSelf = function () {\n        canvas.remove(this)\n      }\n      fabric.Object.prototype.addSelf = function () {\n        canvas.add(this)\n      }\n      this.canvas.on({\n      // 鼠标移动事件\n        'mouse:move': this.mouseMove,\n        'mouse:out': this.mouseOut,\n        // 鼠标按下事件\n        'mouse:down': this.mouseDown,\n        // 鼠标抬起事件\n        'mouse:up': this.mouseUp\n\n      })\n\n      // 通过snap解析文件\n      // console.log(Snap)\n      // Snap.load('./pants_01_b_f.svg', obj => {\n      //   console.log(Snap.parse(obj))\n      // })\n      // 通过fabric进行文件读取\n      // fabric.loadSVGFromURL('./pants_01_b_f.svg', (objects, options) => {\n      //   objects.forEach((obj1) => {\n      //     this.relativeToAbsolute(obj1.path)\n      //     let path = ''\n      //     obj1.path.forEach(e => {\n      //       path += e.join(' ')\n      //     })\n      //     const obj2 = new fabric.Path(path, {\n      //       left: 200,\n      //       top: 200,\n      //       stroke: 'black',\n      //       strokeWidth: 2\n      //     })\n      //     console.log(obj2)\n      //     obj2.scale(0.1)\n      //     obj2.addSelf()\n      //     obj1.scale(0.1)\n      //     obj1.set({\n      //       left: 200,\n      //       top: 200,\n      //       stroke: 'black'\n      //     })\n      //     console.log(obj1)\n      //     this.allItems.push(obj1)\n      //   })\n      // })\n\n      // 获取上层canvas对象\n      const upperCanvas = document.getElementsByClassName('upper-canvas')\n      // 鼠标右键事件，并添加终止画笔工具事件\n      upperCanvas[0].addEventListener('contextmenu', (e) => {\n        console.log('终止画笔工具')\n        this.cutNewLine()\n        e.preventDefault()\n        return false\n      })\n      // ————————————————————————文件拖拽解析生成元素————————————————————————\n      // 文件拖拽解析 画布生成新元素\n      upperCanvas[0].ondrop = (event) => {\n        event.preventDefault()\n\n        // 读文件\n        var file = event.dataTransfer.files[0]\n\n        // 创建一个filereader\n        var reader = new FileReader()\n        reader.readAsText(file)\n        reader.onload = () => {\n          console.log(reader.result)\n          // 文本中提取SVG的d属性\n          const re = /M([\\s\\S]*?)(?=\"\\/>)/g\n          const res = reader.result.match(re)\n          res.forEach(el => {\n            const resPath = new fabric.Path(el, {\n              strokeWidth: 1\n            })\n            this.relativeToAbsolute(resPath)\n            const newPath = new fabric.Path(resPath.path, {\n              isChange: false,\n              hoverCursor: 'default',\n              objectCaching: false,\n              type: 'Path',\n              strokeWidth: 1,\n              fill: 'transparent',\n              id: +new Date(),\n              stroke: 'black'\n            })\n            this.pathPointTemp(newPath)\n            console.log('创建新的元素：', newPath.id, newPath)\n            newPath.addSelf()\n            resPath.removeSelf()\n            this.allItems.push(newPath)\n            console.log('目前画布上的元素：', this.allItems)\n          })\n        }\n      }\n      // ————————————————————————————画布缩放——————————————————————————————\n      // 鼠标按下\n      this.canvas.on('mouse:down', (e) => {\n        // 按住alt键才可拖动画布\n        if (e.e.altKey) {\n          this.isMovePan = true\n        }\n      })\n\n      // 鼠标抬起\n      this.canvas.on('mouse:up', (e) => {\n        this.isMovePan = false\n      })\n\n      // 鼠标移动\n      this.canvas.on('mouse:move', (e) => {\n        if (this.isMovePan && e && e.e) {\n          var delta = new fabric.Point(e.e.movementX, e.e.movementY)\n          this.canvas.relativePan(delta)\n        }\n      })\n\n      // 鼠标滚轮监听\n      this.canvas.on('mouse:wheel', (event) => {\n        this.zoom = (event.e.deltaY < 0 ? 0.1 : -0.1) + this.zoom\n        this.zoom = Math.max(0.1, this.zoom) // 最小为原来的1/10\n        this.zoom = Math.min(3, this.zoom) // 最大是原来的3倍\n        // var zoomPoint = event.absolutePointer\n        const zoomPoint = new fabric.Point(300, 300)\n        this.canvas.zoomToPoint(zoomPoint, this.zoom)\n      })\n      // ————————————————————————————————————————————————————————————————\n    },\n    // 创建Bezier曲线的控制圆\n    bezierControlCircle (i, x, y, path) {\n      const c = this.createCircle(path[i][x], path[i][y])\n      c.pathIndex = i\n      c.pathXY = path[i]\n      c.pathX = x\n      c.pathY = y\n      c.on({\n        moved: this.updatePath,\n        moving: this.priviewBezierChange\n      })\n      return c\n    },\n    // 创建Bezier曲线的控制圆参考线\n    bezierControlLine (path) {\n      const line = new fabric.Line(path, {\n        hoverCursor: 'default',\n        selectable: false,\n        hasBorders: false,\n        objectCaching: false,\n        hasControls: false,\n        stroke: 'red',\n        type: 'Line',\n        strokeWidth: 1\n      })\n      line.sendToBack()\n      line.addSelf()\n      return line\n    },\n    // 切换工具\n    changeTool (item) {\n      if (this.activeTool === item) {\n        console.log('点击了相同的工具')\n        return true\n      }\n\n      // 切换工具时 初始化\n      if (item === 'BezierCurve' || item === 'Line' || item === 'Detect') {\n        // 清除正在画的线段\n        // this.cutNewLine()\n        console.log('切换至不可选模式')\n        fabric.Object.prototype.hasBorders = false\n        fabric.Object.prototype.selectable = false\n      } else {\n        console.log('切换至可选模式')\n        fabric.Object.prototype.hasBorders = true\n        fabric.Object.prototype.selectable = true\n      }\n      if (this.currentItem.target?.controlCircle) {\n        this.currentItem.target.controlCircle.forEach(e => e.removeSelf())\n      }\n      this.currentItem = {\n        isChange: false,\n        id: '',\n        target: null,\n        length: 0,\n        path: null,\n        left: 0,\n        top: 0\n      }\n      // 切换为点击的工具\n      this.activeTool = item\n    },\n    // 剪短正在创建的线段\n    cutNewLine () {\n      if (this.currentItem.target) this.currentItem.target.removeSelf()\n      if (this.currentItem.path?.length > 2) {\n        this.currentItem.path.pop()\n        const newLine = this.createPath(this.currentItem.path)\n        this.allItems.push(newLine)\n      }\n      this.currentItem.path = null\n    },\n    // 创建新的路径\n    createPath (pathArray, stroke = 'black') {\n      let path = ''\n      pathArray.forEach((item) => {\n        path = `${path} ${item.join(' ')}`\n      })\n      const newLine = new fabric.Path(path, {\n        isChange: false,\n        hoverCursor: 'default',\n        objectCaching: false,\n        stroke,\n        type: 'Path',\n        strokeWidth: 1,\n        fill: 'transparent',\n        id: +new Date()\n      })\n      if (newLine.width < 10 || newLine.height < 10) newLine.padding = 10\n      if (pathArray.length < 3 && pathArray[1][0] === 'L') {\n        newLine.type = 'Line'\n        newLine.length = this.getLineLength(newLine)\n      }\n      if (newLine.path[1][0] === 'C') {\n        this.pathPointTemp(newLine)\n      }\n      newLine.on({\n        mousedblclick: this.objDbclick,\n        moved: this.objMoved,\n        mousedown: this.objMouseDown,\n        moving: this.objMoving\n      })\n      this.canvas.add(newLine)\n      newLine.sendToBack()\n      return newLine\n    },\n    // 创建Bezier曲线的控制圆以及参考线\n    createBezierCurveControl (event) {\n      const el = event.target\n      const controllers = []\n      el.controlCircle = controllers\n      const path = el.path\n\n      let circle1, circle2, circle3, line1, line2, line3\n      for (let i = 1, len = path.length; i < len; i++) {\n        // let line1\n        if (i === 1) {\n        // 第一个点\n          circle1 = this.bezierControlCircle(0, 1, 2, path)\n          controllers.push(circle1)\n          circle1.controlLine = { center: true, line: [], othersContral: [] }\n          line1 = this.bezierControlLine([path[1][1], path[1][2], path[0][1], path[0][2]])\n        } else {\n          line1 = this.bezierControlLine([path[i][1], path[i][2], path[i - 1][5], path[i - 1][6]])\n          circle3.controlLine.line.push(line1)\n        }\n        circle1.controlLine.line.push(line1)\n        line3 = line2 = this.bezierControlLine([path[i][3], path[i][4], path[i][5], path[i][6]])\n        circle2 = this.bezierControlCircle(i, 1, 2, path)\n        circle1.controlLine.othersContral.push(circle2)\n        if (i === 1) {\n          circle2.controlLine = { center: false, line: [line1], othersContral: [circle1] }\n        } else {\n          circle2.controlLine = { center: false, line: [line1, line3], othersContral: [circle1, circle3] }\n          circle3.controlLine.othersContral.push(circle2)\n        }\n        circle1 = this.bezierControlCircle(i, 5, 6, path)\n        circle3 = this.bezierControlCircle(i, 3, 4, path)\n        circle1.controlLine = { center: true, line: [line2], othersContral: [circle3] }\n        circle3.controlLine = { center: false, line: [line2], othersContral: [circle1] }\n        controllers.push(line1, circle2, circle3, line2, circle1)\n      }\n\n      controllers.forEach((item) => {\n        item.controlElement = el\n      })\n      return el\n    },\n    // 创建Line的控制圆\n    createLineControl (event) {\n      const el = event.target\n      const controllers = []\n      el.controlCircle = controllers\n      const path = el.path\n      function createCircle (x, y) {\n        const circle = new fabric.Circle({\n          left: x,\n          top: y,\n          radius: 6,\n          fill: '#fff',\n          stroke: '#666',\n          strokeWidth: 1,\n          hasBorders: false,\n          type: 'controlCircle'\n        })\n        circle.addSelf()\n        return circle\n      }\n      function priviewChange (event) {\n        event.target.pathXY[event.target.pathX] = event.pointer.x\n        event.target.pathXY[event.target.pathY] = event.pointer.y\n        this.currentItem.length = this.getLineLength(event.target.controlElement)\n      }\n      function createControlCircle (i, x, y) {\n        const c = createCircle(path[i][x], path[i][y])\n        c.pathXY = path[i]\n        c.pathX = x\n        c.pathY = y\n        c.on({\n          moved: this.updatePath,\n          moving: priviewChange.bind(this)\n        })\n        return c\n      }\n      const c0 = createControlCircle.call(this, 0, 1, 2)\n      const c1 = createControlCircle.call(this, 1, 1, 2)\n      controllers.push(c0, c1)\n      controllers.forEach((item) => {\n        item.controlElement = el\n      })\n    },\n    // 创建控制点圆形\n    createCircle (x, y) {\n      const circle = new fabric.Circle({\n        left: x,\n        top: y,\n        radius: 6,\n        fill: '#fff',\n        stroke: '#666',\n        strokeWidth: 1,\n        hasBorders: false,\n        type: 'controlCircle'\n      })\n      this.canvas.add(circle)\n      return circle\n    },\n    // 创建path路径的缓存\n    createTemp (path) {\n      const temp = []\n\n      for (let i = 1; i < path.length; i++) {\n        const x0 = path[i - 1][path[i - 1].length - 2]\n        const y0 = path[i - 1][path[i - 1].length - 1]\n        const x1 = path[i][1]\n        const y1 = path[i][2]\n        const x2 = path[i][3]\n        const y2 = path[i][4]\n        const x3 = path[i][5]\n        const y3 = path[i][6]\n        for (let t = 0.01; t < 1; t += 0.01) {\n          const x = Math.pow((1 - t), 3) * x0 + 3 * t * Math.pow((1 - t), 2) * x1 + 3 * Math.pow(t, 2) * (1 - t) * x2 + Math.pow(t, 3) * x3\n          const y = Math.pow((1 - t), 3) * y0 + 3 * t * Math.pow((1 - t), 2) * y1 + 3 * Math.pow(t, 2) * (1 - t) * y2 + Math.pow(t, 3) * y3\n          temp.push([x.toFixed(4), y.toFixed(4)])\n        }\n      }\n      return temp\n    },\n    // 磁吸曲线工具\n    detectBezierCurve (el, event) {\n      // 方法三 缓存曲线每个点的坐标\n      el.pointTemp.forEach(point => {\n        const len = this.distance(event.absolutePointer, { x: point[0], y: point[1] })\n        if (len < this.detect.minDistance) {\n          this.detect.minDistance = len\n          this.detect.target = el\n          this.detect.pointer = { x: point[0], y: point[1] }\n        }\n      })\n    },\n    // 磁吸工具\n    detectTool (event) {\n      // 曲线节点处的磁吸检测\n      function detectBezierCurvePoint (el) {\n        const pointer = [{\n          x: el.path[0][1],\n          y: el.path[0][2]\n        }]\n        for (let i = 1, len = el.path.length; i < len; i++) {\n          const c3 = {\n            x: el.path[i][el.path[i].length - 2],\n            y: el.path[i][el.path[i].length - 1]\n          }\n          pointer.push(c3)\n        }\n        pointer.forEach((e) => {\n          const dis = this.distance(event.absolutePointer, e)\n          if (dis < this.detect.minDistance) {\n            this.detect.minDistance = dis\n            this.detect.target = el\n            this.detect.pointer = e\n          }\n        })\n      }\n      if (this.activeTool === 'Detect') {\n        // 每一次鼠标移动先还原检测距离\n        this.detect.minDistance = 10\n        if (this.detect.target) this.detect.target.stroke = 'black'\n        this.detect.target = null\n        this.detect.pointer = null\n        // 先检测端点如果距离符合磁吸范围，则吸附，并放弃检测线段距离\n        this.allItems.forEach((el) => {\n          if (el.id) {\n            detectBezierCurvePoint.call(this, el)\n          }\n        })\n        // 如果端点检测通过 放弃检测线段距离\n        if (!this.detect.target) {\n          // 检测线段中是否有符合磁吸范围的点\n          this.allItems.forEach((el) => {\n            // 过滤鼠标点处于元素的控制范围内的元素\n            if (this.mouse.mouseCircle.intersectsWithObject(el)) {\n              // 求鼠标点到线段的最短距离和线段上的点\n              if (el.path[1][0] === 'L') {\n                const k = (el.path[1][2] - el.path[0][2]) / (el.path[1][1] - el.path[0][1])\n                const x3 = event.absolutePointer.x\n                const y3 = event.absolutePointer.y\n                const x = (k / (k * k + 1)) * (y3 - el.path[0][2] + k * el.path[0][1] + x3 / k)\n                const y = y3 + x3 / k - x / k\n                const len = Math.sqrt(Math.pow((x3 - x), 2) + Math.pow((y3 - y), 2))\n                if (len < this.detect.minDistance) {\n                  this.detect.minDistance = len\n                  this.detect.target = el\n                  this.detect.pointer = { x, y }\n                }\n              }\n              if (el.path[1][0] === 'C') {\n                this.detectBezierCurve(el, event)\n              }\n            }\n          })\n        }\n        if (this.detect.target) {\n          this.currentItem = {\n            isChange: false,\n            id: this.detect.target.id,\n            target: this.detect.target,\n            length: this.detect.target.length,\n            path: this.detect.target.path,\n            left: this.detect.target.left,\n            top: this.detect.target.top\n          }\n        }\n      }\n    },\n    // 磁吸工具V2.0\n    detectTool2 (event) {\n      // 曲线节点处的磁吸检测\n      function detectBezierCurvePoint (el) {\n        const pointer = [{\n          x: el.path[0][1],\n          y: el.path[0][2]\n        }]\n        for (let i = 1, len = el.path.length; i < len; i++) {\n          if (el.path[i][0] === 'Z') continue\n          const c3 = {\n            x: el.path[i][el.path[i].length - 2],\n            y: el.path[i][el.path[i].length - 1]\n          }\n          pointer.push(c3)\n        }\n        pointer.forEach((e) => {\n          const dis = this.distance(event.absolutePointer, e)\n          if (dis < this.detect.minDistance) {\n            this.detect.minDistance = dis\n            this.detect.target = el\n            this.detect.pointer = e\n          }\n        })\n      }\n      function pointerToLine (pointer, line) {\n        if (line.x1 === line.x2) {\n          return {\n            x: line.x1,\n            y: pointer.y,\n            len: Math.abs(pointer.x - line.x1)\n          }\n        }\n        if (line.y1 === line.y2) {\n          return {\n            y: line.y1,\n            x: pointer.x,\n            len: Math.abs(pointer.y - line.y1)\n          }\n        }\n        // pointer:点坐标 line线段两点坐标\n        const k = (line.y2 - line.y1) / (line.x2 - line.x1)\n        const x = (k / (k * k + 1)) * (pointer.y - line.y1 + k * line.x1 + pointer.x / k)\n        const y = pointer.y + pointer.x / k - x / k\n        const len = Math.sqrt(Math.pow((pointer.x - x), 2) + Math.pow((pointer.y - y), 2))\n        if (line.x2 === 425.712) console.log('测试：：：', x, y, k, len)\n        return { len, x, y }\n      }\n      function isPointInRect (p, r) {\n        // p:pointer r:rect\n        // 判断点是否在两点组成的rect之中\n        if (((r.x1 - r.x2) < 5) && ((r.x2 - r.x1) > -5)) {\n          r.x1 += (r.x1 - r.x2 > 0) ? 5 : -5\n          r.x2 += (r.x2 - r.x1 > 0) ? 5 : -5\n        }\n        if (((r.y1 - r.y2) < 5) && ((r.y2 - r.y1) > -5)) {\n          r.y1 += (r.y1 - r.y2 > 0) ? 5 : -5\n          r.y2 += (r.y2 - r.y1 > 0) ? 5 : -5\n        }\n        return (((r.x1 <= p.x) && (p.x <= r.x2)) || ((r.x2 <= p.x) && (p.x <= r.x1))) && (((r.y1 <= p.y) && (p.y <= r.y2)) || ((r.y2 <= p.y) && (p.y <= r.y1)))\n      }\n      if (this.activeTool === 'Detect') {\n        // 每一次鼠标移动先还原检测距离\n        this.detect.minDistance = 10\n        if (this.detect.target) this.detect.target.stroke = 'black'\n        this.detect.target = null\n        this.detect.pointer = null\n        // 先检测端点如果距离符合磁吸范围，则吸附，并放弃检测线段距离\n        this.allItems.forEach((el) => {\n          if (el.id) {\n            detectBezierCurvePoint.call(this, el)\n          }\n        })\n        // 如果端点检测通过 放弃检测线段距离\n        if (!this.detect.target) {\n          // 检测线段中是否有符合磁吸范围的点\n          this.allItems.forEach((el) => {\n            // el.padding = 10\n            // 过滤鼠标点处于元素的控制范围内的元素\n            el.padding = 10\n            if (this.mouse.mouseCircle.intersectsWithObject(el)) {\n              // 求鼠标点到线段的最短距离和线段上的点\n              if (el.type === 'Line') {\n                const res = pointerToLine(event.absolutePointer, { x1: el.path[0][1], y1: el.path[0][2], x2: el.path[1][1], y2: el.path[1][2] })\n                if (res.len < this.detect.minDistance) {\n                  this.detect.minDistance = res.len\n                  this.detect.target = el\n                  this.detect.pointer = { x: res.x, y: res.y }\n                }\n              }\n              if (el.type === 'Path') {\n                const p = el.pointTemp\n                const path = el.path\n                let x, y, len\n                for (let i = 0, leni = p.length; i < leni; i++) {\n                  if (path[i][0] === 'L') {\n                    const x1 = path[i - 1][path[i - 1].length - 2]\n                    const y1 = path[i - 1][path[i - 1].length - 1]\n                    const x2 = path[i][1]\n                    const y2 = path[i][2]\n                    if (isPointInRect(event.absolutePointer, { x1, y1, x2, y2 })) {\n                      const res = pointerToLine(event.absolutePointer, { x1, y1, x2, y2 })\n                      x = res.x\n                      y = res.y\n                      len = res.len\n                      if (len < this.detect.minDistance) {\n                        this.detect.minDistance = len\n                        this.detect.target = el\n                        this.detect.pointer = { x, y }\n                      }\n                    }\n                  } else if (path[i][0] === 'C') {\n                    p[i].forEach(point => {\n                      x = point[0]\n                      y = point[1]\n                      len = this.distance(event.absolutePointer, { x, y })\n                      if (len < this.detect.minDistance) {\n                        this.detect.minDistance = len\n                        this.detect.target = el\n                        this.detect.pointer = { x, y }\n                      }\n                    })\n                  } else {\n                    continue\n                  }\n                }\n              }\n            }\n            el.padding = 0\n          })\n        }\n        if (this.detect.target) {\n          this.currentItem = {\n            isChange: false,\n            id: this.detect.target.id,\n            target: this.detect.target,\n            length: this.detect.target.length,\n            path: this.detect.target.path,\n            left: this.detect.target.left,\n            top: this.detect.target.top\n          }\n        }\n      }\n    },\n    // 删除选中的项目\n    deleteItem () {\n      if (this.currentItem.target) {\n        if (this.currentItem.target.controlCircle) {\n          this.currentItem.target.controlCircle.forEach(e => e.removeSelf())\n        }\n        this.currentItem.target.removeSelf()\n      }\n      this.allItems = this.allItems.filter((item) => item !== this.currentItem.target)\n      this.currentItem = {\n        isChange: false,\n        id: '',\n        target: null,\n        length: 0,\n        path: null,\n        left: 0,\n        top: 0\n      }\n    },\n    // 计算两点之间的距离\n    distance (p1, p2) {\n      return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2))\n    },\n    // 获取线段元素的长度\n    getLineLength (el) {\n      return Math.sqrt(\n        Math.pow((el.path[1][1] - el.path[0][1]), 2) + Math.pow((el.path[1][2] - el.path[0][2]), 2)\n      ).toFixed(4)\n    },\n    // 鼠标移动事件\n    mouseMove (event) {\n      this.mouse.coord = event.absolutePointer\n      if (this.mouse.isClick) this.mouse.isDragging = true\n      if (this.activeTool === 'Hand') {\n        return\n      }\n      this.mouseCircleMove(event)\n      // 鼠标底部圆圈移动函数\n      if (this.activeTool === 'Line') {\n        if (this.currentItem.path) {\n          this.priviewLine(event)\n        }\n      }\n      if (this.activeTool === 'BezierCurve') {\n        if (this.currentItem.path) {\n          this.priviewBezierCurve(event)\n        }\n      }\n      if (this.activeTool === 'Detect') {\n        this.detectTool2(event)\n      }\n    },\n    // 鼠标移出事件\n    mouseOut (e) {\n      if (!e.target) {\n        if (this.mouse.mouseCircle) this.mouse.mouseCircle.removeSelf()\n      }\n    },\n    // 鼠标按下事件\n    mouseDown (e) {\n      console.log(e.target)\n      this.mouse.isClick = true\n      // 处于抓取工具时\n      if (this.activeTool === 'Hand') {\n        if (e.target === this.currentItem.target) return\n        if (e.target?.controlElement === this.currentItem.target) return\n        if (this.currentItem.target?.controlCircle) {\n          this.currentItem.target.controlCircle.forEach(e => e.removeSelf())\n        }\n        if (!e.target) {\n          this.currentItem.target.isChange = false\n          this.currentItem = {\n            isChange: false,\n            id: '',\n            target: null,\n            length: 0,\n            path: null,\n            left: 0,\n            top: 0\n          }\n        } else {\n          if (this.currentItem.target !== e.target && this.currentItem.target !== null) {\n            this.currentItem.target.isChange = false\n          }\n        }\n      }\n\n      // 处于Line线段工具时\n      if (this.activeTool === 'Line') {\n        // todo 第一点的时候\n        if (!this.currentItem.path) {\n          this.currentItem.path = [['M', e.absolutePointer.x, e.absolutePointer.y]]\n        } else {\n          this.currentItem.path.push(['L', e.absolutePointer.x, e.absolutePointer.y])\n          const newLine = this.createPath(this.currentItem.path)\n          this.allItems.push(newLine)\n          console.log('创建线段:', newLine.id, newLine)\n          this.currentItem.target.removeSelf()\n          this.currentItem.target = null\n          this.currentItem.path = null\n        }\n      }\n      // 处于BezierCurve贝塞斯曲线工具时\n      if (this.activeTool === 'BezierCurve') {\n        if (!this.currentItem.path) {\n          this.currentItem.path = [['M', e.absolutePointer.x, e.absolutePointer.y], ['C', e.absolutePointer.x, e.absolutePointer.y, e.absolutePointer.x, e.absolutePointer.y, e.absolutePointer.x, e.absolutePointer.y]]\n        } else {\n          const p = this.currentItem.path\n          const last = p.length - 1\n          const path = ['C', 2 * p[last][5] - p[last][3], 2 * p[last][6] - p[last][4], e.absolutePointer.x, e.absolutePointer.y, e.absolutePointer.x, e.absolutePointer.y]\n          this.currentItem.path.push(path)\n          this.currentItem.target.removeSelf()\n          this.currentItem.target = this.createPath(this.currentItem.path, 'blue')\n        }\n      }\n    },\n    // 鼠标抬起事件\n    mouseUp (e) {\n      this.mouse.isClick = false\n      this.mouse.isDragging = false\n    },\n    // 鼠标下的圆移动\n    mouseCircleMove (e) {\n      if (this.mouse.mouseCircle) this.mouse.mouseCircle.removeSelf()\n      const circle = this.mouse.mouseCircle = new fabric.Circle({\n        left: e.absolutePointer.x,\n        top: e.absolutePointer.y,\n        perPixelTargetFind: true,\n        hoverCursor: 'default',\n        originX: 'center',\n        originY: 'center',\n        objectCaching: false,\n        radius: 6,\n        fill: '#fff',\n        stroke: 'blue',\n        strokeWidth: 1,\n        selectable: false\n      })\n      this.mouse.mouseCircle = circle\n      if (this.detect.pointer) {\n        circle.set({\n          left: parseInt(this.detect.pointer.x),\n          top: parseInt(this.detect.pointer.y)\n        })\n        this.detect.target.stroke = 'blue'\n      }\n      this.mouse.coord = { x: circle.left, y: circle.top }\n      circle.addSelf()\n    },\n    // 对象的双击事件\n    objDbclick (event) {\n      fabric.Object.prototype.hasBorders = false\n      if (event.target.isChange === true) return\n      event.target.isChange = true\n      // if (event.target.type === 'Line') {\n      //   this.createLineControl(event)\n      // }\n      // if (event.target.type === 'BezierCurve') {\n      //   this.createBezierCurveControl(event)\n      // }\n      this.updatePath(event)\n    },\n    // 对象的移动中事件\n    objMoving (event) {\n      if (event.target.controlCircle) {\n        event.target.controlCircle.forEach(e => e.removeSelf())\n      }\n    },\n    // 对象移动后事件\n    objMoved (event) {\n      this.updatePath(event)\n    },\n    // 对象点击事件\n    objMouseDown (e) {\n      fabric.Object.prototype.hasBorders = true\n      this.currentItem = {\n        isChange: e.target.isChange,\n        id: e.target.id,\n        target: e.target,\n        length: e.target.length,\n        path: e.target.path,\n        left: e.target.left,\n        top: e.target.top\n      }\n    },\n    // 创建线段时预览线段\n    priviewLine (event) {\n      const path = [this.currentItem.path[0], ['L', event.absolutePointer.x, event.absolutePointer.y]]\n      if (this.currentItem.target) {\n        this.currentItem.target.removeSelf()\n      }\n      this.currentItem.target = this.createPath(path, 'blue')\n    },\n    // 修改Bezier曲线时预览\n    priviewBezierChange (event) {\n      const el = event.target\n      const deltaX = event.pointer.x - el.pathXY[el.pathX]\n      const deltaY = event.pointer.y - el.pathXY[el.pathY]\n      if (this.isSmoothBezierCurve) {\n        // 预览曲线\n        el.pathXY[el.pathX] = event.pointer.x\n        el.pathXY[el.pathY] = event.pointer.y\n        const el2 = el.controlLine.othersContral[0]\n        const el3 = el.controlLine.othersContral[1]\n        if (el.controlLine.center) {\n          el.controlLine.line.forEach(l => {\n            l.set({\n              x1: l.x1 + deltaX,\n              y1: l.y1 + deltaY,\n              x2: l.x2 + deltaX,\n              y2: l.y2 + deltaY\n            })\n            l.setCoords()\n          })\n          el2.pathXY[el2.pathX] += deltaX\n          el2.pathXY[el2.pathY] += deltaY\n          if (el3) {\n            el3.pathXY[el3.pathX] += deltaX\n            el3.pathXY[el3.pathY] += deltaY\n          }\n          el.controlLine.othersContral.forEach(c => {\n            c.set({\n              left: c.pathXY[c.pathX],\n              top: c.pathXY[c.pathY]\n            })\n          })\n        } else {\n          el.controlLine.line[0].set({\n            x1: event.pointer.x,\n            y1: event.pointer.y\n          })\n          el.controlLine.line[0].setCoords()\n          if (el3) {\n            el3.pathXY[el3.pathX] -= deltaX\n            el3.pathXY[el3.pathY] -= deltaY\n            el3.set({\n              left: el3.pathXY[el3.pathX],\n              top: el3.pathXY[el3.pathY]\n            })\n            el3.controlLine.line[0].set({\n              x1: el3.pathXY[el3.pathX],\n              y1: el3.pathXY[el3.pathY]\n            })\n            el3.controlLine.line[0].setCoords()\n          }\n        }\n      } else {\n        el.pathXY[el.pathX] = event.pointer.x\n        el.pathXY[el.pathY] = event.pointer.y\n        if (el.controlLine.center) {\n          el.controlLine.line.forEach((e) => {\n            e.set({\n              x1: e.x1,\n              y1: e.y1,\n              x2: event.pointer.x,\n              y2: event.pointer.y\n            })\n            e.setCoords()\n          })\n        } else {\n          el.controlLine.line[0].set({\n            x1: event.pointer.x,\n            y1: event.pointer.y\n          })\n          el.controlLine.line[0].setCoords()\n        }\n      }\n    },\n    // 创建曲线时预览\n    priviewBezierCurve (event) {\n      if (this.currentItem.target) this.currentItem.target.removeSelf()\n      const p = this.currentItem.path\n      const e = event.absolutePointer\n      if (this.mouse.isDragging) {\n        switch (p[p.length - 2][0]) {\n          case 'M':\n            break\n          case 'C':\n            p[p.length - 1][1] = e.x\n            p[p.length - 1][2] = e.y\n            p[p.length - 2][3] = 2 * p[p.length - 2][5] - e.x\n            p[p.length - 2][4] = 2 * p[p.length - 2][6] - e.y\n            break\n        }\n      }\n      p[p.length - 1][3] = e.x\n      p[p.length - 1][4] = e.y\n      p[p.length - 1][5] = e.x\n      p[p.length - 1][6] = e.y\n      // if (this.isSmoothBezierCurve) {\n      //   p[p.length - 1][1] = 2 * p[p.length - 2][5] - p[p.length - 2][3]\n      //   p[p.length - 1][2] = 2 * p[p.length - 2][6] - p[p.length - 2][4]\n      // }\n      this.currentItem.target = this.createPath(this.currentItem.path, 'blue')\n    },\n    // 路径生成点缓存\n    pathPointTemp (el) {\n      const p = el.path\n      const creatTemp = []\n      for (let i = 0, len = p.length; i < len; i++) {\n        if (p[i][0] === 'C') {\n          const temp = []\n          const x0 = p[i - 1][p[i - 1].length - 2]\n          const y0 = p[i - 1][p[i - 1].length - 1]\n          const x1 = p[i][1]\n          const y1 = p[i][2]\n          const x2 = p[i][3]\n          const y2 = p[i][4]\n          const x3 = p[i][5]\n          const y3 = p[i][6]\n          for (let t = 0.01; t < 1; t += 0.01) {\n            const x = Math.pow((1 - t), 3) * x0 + 3 * t * Math.pow((1 - t), 2) * x1 + 3 * Math.pow(t, 2) * (1 - t) * x2 + Math.pow(t, 3) * x3\n            const y = Math.pow((1 - t), 3) * y0 + 3 * t * Math.pow((1 - t), 2) * y1 + 3 * Math.pow(t, 2) * (1 - t) * y2 + Math.pow(t, 3) * y3\n            temp.push([x.toFixed(3), y.toFixed(3)])\n          }\n          creatTemp.push(temp)\n        } else {\n          creatTemp.push(p[i])\n        }\n      }\n      el.pointTemp = creatTemp\n    },\n    // 统一转化path为绝对定位\n    relativeToAbsolute (el) {\n      const p = el.path\n      const left = 0\n      const top = 0\n      p[0][1] -= left\n      p[0][2] -= top\n      for (let i = 1; i < p.length; i++) {\n        if (/[a-zHSV]/.test(p[i][0])) {\n          const lastX = p[i - 1][p[i - 1].length - 2]\n          const lastY = p[i - 1][p[i - 1].length - 1]\n          switch (p[i][0]) {\n            case 'V':\n              p[i][0] = 'L'\n              p[i][1] = lastX\n              p[i][2] = p[i][2] - top\n              break\n            case 'v':\n              p[i][0] = 'L'\n              p[i][1] = lastX\n              p[i][2] = lastY + p[i][2]\n              break\n            case 'H':\n              p[i][0] = 'L'\n              p[i][1] = p[i][1] - left\n              p[i][2] = lastY\n              break\n            case 'h':\n              p[i][0] = 'L'\n              p[i][1] = lastX + p[i][1]\n              p[i][2] = lastY\n              break\n            case 's':\n              p[i][0] = 'C'\n              p[i][5] = p[i][3] + lastX\n              p[i][6] = p[i][4] + lastY\n              p[i][3] = p[i][1] + lastX\n              p[i][4] = p[i][2] + lastY\n              if (p[i - 1][0] === 'C') {\n                p[i][1] = 2 * lastX - p[i - 1][3]\n                p[i][2] = 2 * lastY - p[i - 1][4]\n              } else {\n                p[i][1] = lastX\n                p[i][2] = lastY\n              }\n              break\n            case 'S':\n              p[i][0] = 'C'\n              p[i][5] = p[i][3] - left\n              p[i][6] = p[i][4] - top\n              p[i][3] = p[i][1] - left\n              p[i][4] = p[i][2] - top\n              if (p[i - 1][0] === 'C') {\n                p[i][1] = 2 * lastX - p[i - 1][3]\n                p[i][2] = 2 * lastY - p[i - 1][4]\n              } else {\n                p[i][1] = lastX\n                p[i][2] = lastY\n              }\n              break\n            default:\n              p[i][0] = p[i][0].toUpperCase()\n              for (let j = 1; j < p[i].length; j += 2) {\n                p[i][j] += lastX\n                p[i][j + 1] += lastY\n              }\n              break\n          }\n        } else {\n          for (let j = 1, len = p[i].length; j < len; j += 2) {\n            p[i][j] -= left\n            p[i][j + 1] -= top\n          }\n        }\n      }\n    },\n    // 移动对象后 更新其Path路径以及视图\n    updatePath (event) {\n      let t\n      if (event.target.type === 'controlCircle') {\n        t = event.target.controlElement\n      } else {\n        t = event.target\n        for (let i = 0, leni = t.path.length; i < leni; i++) {\n          for (let j = 1, lenj = t.path[i].length; j < lenj; j += 2) {\n            t.path[i][j] = t.path[i][j] + (t.left - this.currentItem.left)\n          }\n          for (let j = 2, lenj = t.path[i].length; j < lenj; j += 2) {\n            t.path[i][j] = t.path[i][j] + (t.top - this.currentItem.top)\n          }\n        }\n      }\n      const newPath = this.createPath(t.path)\n      newPath.id = t.id\n      newPath.isChange = t.isChange\n      if (event.target.type === 'controlCircle') {\n        t.controlCircle.forEach(e => e.removeSelf())\n      }\n      this.currentItem = {\n        isChange: newPath.isChange,\n        id: newPath.id,\n        target: newPath,\n        length: newPath.length,\n        path: newPath.path,\n        left: newPath.left,\n        top: newPath.top\n      }\n      this.allItems = this.allItems.filter((item) => item !== t)\n      this.allItems.push(newPath)\n      this.canvas.remove(t)\n      if (t.isChange) {\n        if (t.type === 'Line') {\n          this.createLineControl({ target: newPath })\n        } else {\n          this.createBezierCurveControl({ target: newPath })\n        }\n      }\n      return newPath\n    }\n  },\n  mounted () {\n    // 初始化\n    this.initialize()\n  }\n}\n</script>\n\n<style>\nbody {\n  margin: 0px;\n}\n\n.active{\n  background-color: hsl(200,50%,50%);\n}\n\n.app{\n  display: block;\n  background-color: bisque;\n  width: 100%;\n  height: 100%;\n}\n\n.nav{\n  position: fixed;\n  display: flex;\n  box-sizing: border-box;\n  justify-content: space-between;\n  z-index: 2;\n  width: 100%;\n  height: 50px;\n  background-color: rgb(62, 62, 62);\n  padding: 0px 50px;\n  user-select:none;\n}\n\n.nav .left {\n  display: flex;\n}\n\n.nav .right {\n  display: flex;\n  line-height: 50px;\n  color: aliceblue;\n}\n\n.nav .right div {\n  margin: 0px 10px;\n}\n\na {\n  color: rgb(5, 138, 255);\n}\n\n.nav .button {\n  padding: 0px 10px;\n  line-height: 50px;\n  color: aliceblue;\n  cursor: pointer;\n  height: 100%;\n}\n\n.mouse_coord {\n  position: fixed;\n  left: 50px;\n  bottom: 50px;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=1b810b8c&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\nimport fabric from 'fabric'\nnew Vue({\n  fabric,\n  render: h => h(App)\n}).$mount('#app')\n"],"sourceRoot":""}